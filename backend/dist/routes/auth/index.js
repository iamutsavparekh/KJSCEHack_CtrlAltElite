"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.authRouter = void 0;
var express_1 = __importDefault(require("express"));
var require_auth_1 = require("../../middlewares/require-auth");
var validate_request_1 = require("../../middlewares/validate-request");
var multer_1 = require("../../utils/multer");
var current_user_1 = require("./current-user");
var delete_user_1 = require("./delete-user");
var reset_password_1 = require("./reset-password");
var sign_in_1 = require("./sign-in");
var sign_out_1 = require("./sign-out");
var sign_up_1 = require("./sign-up");
var update_user_1 = require("./update-user");
var upload_avatar_1 = require("./upload-avatar");
var user_avatar_1 = require("./user-avatar");
var router = express_1.default.Router();
exports.authRouter = router;
router.post("/sign-in", require_auth_1.requireAuth, sign_in_1.signInValidator, validate_request_1.validateRequest, sign_in_1.signInHandler);
router.post("/sign-up", require_auth_1.requireAuth, sign_up_1.signUpValidator, validate_request_1.validateRequest, sign_up_1.signUpHandler);
router.post("/sign-out", require_auth_1.requireAuth, sign_out_1.signOutHandler);
router.get("/me", require_auth_1.requireAuth, current_user_1.currentUserHandler);
router.delete("/me", require_auth_1.requireAuth, delete_user_1.deleteUserHandler);
router.patch("/me", require_auth_1.requireAuth, update_user_1.updateUserValidator, validate_request_1.validateRequest, update_user_1.updateUserHandler);
router.post("/avatar/me", require_auth_1.requireAuth, multer_1.upload.single('avatar'), upload_avatar_1.uploadAvatarHandler);
router.post("/password/me", require_auth_1.requireAuth, reset_password_1.resetPasswordValidator, validate_request_1.validateRequest, reset_password_1.resetPasswordHandler);
router.get("/avatar/:userId", require_auth_1.requireAuth, user_avatar_1.userAvatarHandler);
